import{r,j as e}from"./index-Dzy91-h1.js";import{r as f}from"./default_api-DTSHUdNI.js";function j(){const[a,c]=r.useState(""),[o,m]=r.useState([]),[n,l]=r.useState(!1),i=r.useRef(null),u=s=>{c(s.target.value)},d=async s=>{if(s.key==="Enter"){const t=a.trim();if(t){l(!0);const p=await x(t);m(h=>[...h,{command:t,output:p}]),l(!1)}c("")}},x=async s=>{try{const{result:t}=await f(s);return t}catch(t){return t.message||"An unknown error occurred."}};return r.useEffect(()=>{var s;(s=i.current)==null||s.scrollIntoView({behavior:"smooth"})},[o,n]),e.jsxs("div",{className:"bg-cyber-obsidian text-cyber-white font-mono h-full flex flex-col p-4",children:[e.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar",children:[o.map((s,t)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-cyber-green mr-2",children:">"}),e.jsx("span",{children:s.command})]}),e.jsx("div",{className:"text-gray-300 whitespace-pre-wrap",children:s.output})]},t)),n&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-cyber-green mr-2",children:">"}),e.jsx("div",{className:"animate-pulse",children:"Processing..."})]}),e.jsx("div",{ref:i})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("span",{className:"text-cyber-green mr-2",children:">"}),e.jsx("input",{type:"text",value:a,onChange:u,onKeyDown:d,className:"bg-transparent border-none focus:ring-0 flex-grow text-cyber-white p-0",placeholder:"Enter command...",disabled:n,autoFocus:!0})]})]})}export{j as TerminalApp};
