var j=Object.defineProperty;var x=s=>{throw TypeError(s)};var E=(s,t,e)=>t in s?j(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var h=(s,t,e)=>E(s,typeof t!="symbol"?t+"":t,e),_=(s,t,e)=>t.has(s)||x("Cannot "+e);var o=(s,t,e)=>(_(s,t,"read from private field"),e?e.call(s):t.get(s)),n=(s,t,e)=>t.has(s)?x("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),u=(s,t,e,r)=>(_(s,t,"write to private field"),r?r.call(s,e):t.set(s,e),e);import{_ as O}from"./index-B9CJKxBH.js";var d,m,f,c;class S{constructor(t,e=!1,r=typeof window<"u"){n(this,d);n(this,m);n(this,f);n(this,c,15*6e4);h(this,"host","");h(this,"headers",{});u(this,m,r),this.host=`http${e?"://localhost:8080":"s://api.bytez.com"}/models/v2/`,this.headers={lang:"javascript",Authorization:`Key ${t}`,"content-type":"application/json"},r===!1&&(O(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]).then(a=>{var i;u(this,d,a.Readable??((i=a.default)==null?void 0:i.Readable))}),new Function('return import("undici")')().then(({Agent:a})=>{u(this,f,new a({keepAliveTimeout:o(this,c),keepAliveMaxTimeout:o(this,c),connectTimeout:o(this,c),headersTimeout:o(this,c),bodyTimeout:o(this,c)}))}))}async request(t,e,r,a){try{const i=await fetch(this.host+t,{method:e,headers:a===void 0?this.headers:{...this.headers,"provider-key":a},dispatcher:o(this,f),signal:AbortSignal.timeout(o(this,c)),body:r?JSON.stringify(r):void 0});if(e==="POST"&&!i.ok&&i.headers.get("content-type")!=="application/json"){const{error:T}=await i.json().catch(console.error);throw new Error(T||i.statusText)}return i.body!==null&&((r==null?void 0:r.stream)===!0||(r==null?void 0:r.json)===!1)?o(this,m)?i.body.pipeThrough(new TextDecoderStream):o(this,d).fromWeb(i.body,{encoding:"utf8"}):await i.json()}catch(i){return{error:i.message,output:null}}}}d=new WeakMap,m=new WeakMap,f=new WeakMap,c=new WeakMap;var w,p,k,v;class ${constructor(t,e,r,a){n(this,w);n(this,p);n(this,k,!1);n(this,v);h(this,"id");h(this,"params");h(this,"details");u(this,w,r),this.id=t,u(this,v,a),u(this,p,e.list.models({modelId:t}).then(i=>{var g;const T=["text-to-audio","text-to-image","text-to-video","text-to-speech"];this.details=((g=i==null?void 0:i.output)==null?void 0:g[0])??{},u(this,k,T.includes(this.details.task))}))}async run(t,e,r){const a={params:typeof e=="boolean"||e===void 0?void 0:e};return await o(this,p),(e===!0||r===!0)&&(o(this,k)?a.json=!1:a.stream=!0),a.input=t,o(this,w).request(this.id,"POST",a,o(this,v))}}w=new WeakMap,p=new WeakMap,k=new WeakMap,v=new WeakMap;var l;class b{constructor(t,e=!1,r){n(this,l);h(this,"list",{models:t=>o(this,l).request(`list/models${t!=null&&t.task?`?task=${t.task}`:""}${t!=null&&t.modelId?`?modelId=${t.modelId}`:""}`),tasks:()=>o(this,l).request("list/tasks")});h(this,"model",(t,e)=>new $(t,this,o(this,l),e));u(this,l,new S(t,e,r))}}l=new WeakMap;const A="2622dd06541127bea7641c3ad0ed8859",y=new b(A);async function q(s){const t=y.model("black-forest-labs/FLUX.1-dev"),{error:e,output:r}=await t.run(s);if(e)throw new Error(e);return r}async function D(s){const t=y.model("anthropic/claude-3-opus"),{error:e,output:r}=await t.run(s);if(e)throw new Error(e);return r}async function z(s){const t=y.model("deepseek/deepseek-ocr"),{error:e,output:r}=await t.run(s);if(e)throw new Error(e);return r}async function C(s){const t=y.model("sora/sora-2-pro"),{error:e,output:r}=await t.run(s);if(e)throw new Error(e);return r}export{q as a,z as b,C as c,D as r};
