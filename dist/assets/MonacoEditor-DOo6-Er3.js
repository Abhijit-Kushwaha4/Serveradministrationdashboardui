import{r as i,j as l}from"./index-Dzy91-h1.js";const d="https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs";let s=null;const u=()=>(s||(s=new Promise((r,o)=>{if(window.monaco){r(window.monaco);return}const t=document.createElement("script");t.src=`${d}/loader.js`,t.onload=()=>{window.require.config({paths:{vs:d}}),window.require(["vs/editor/editor.main"],n=>{r(n)},n=>{o(n)})},t.onerror=o,document.body.appendChild(t)})),s),m=({value:r,onChange:o,language:t})=>{const n=i.useRef(null),e=i.useRef(null);return i.useEffect(()=>{let c=!0;return u().then(a=>{c&&n.current&&(e.current=a.editor.create(n.current,{value:r,language:t,theme:"vs-dark",automaticLayout:!0,minimap:{enabled:!1},scrollbar:{vertical:"auto"},fontSize:14,fontFamily:"monospace",scrollBeyondLastLine:!1}),e.current.onDidChangeModelContent(()=>{o(e.current.getValue())}))}),()=>{c=!1,e.current&&e.current.dispose()}},[o]),i.useEffect(()=>{e.current&&e.current.getModel()&&u().then(c=>{c.editor.setModelLanguage(e.current.getModel(),t)})},[t]),i.useEffect(()=>{e.current&&r!==e.current.getValue()&&e.current.setValue(r)},[r]),l.jsx("div",{ref:n,style:{height:"100%",width:"100%"}})};export{m as MonacoEditor};
