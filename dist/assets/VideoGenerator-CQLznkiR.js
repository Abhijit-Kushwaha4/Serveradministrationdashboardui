import{b as h,r as o,j as e,l as f}from"./index-DSQQ7QIl.js";import{g as v,a as j}from"./bytezClient-DEj6LVkX.js";import"./index-CxydnzbD.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],k=h("circle-check-big",N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],S=h("triangle-alert",w);function E(){const[c,y]=o.useState(""),[d,b]=o.useState(null),[s,g]=o.useState(!1),[i,a]=o.useState(null),[u,m]=o.useState(null),[t,l]=o.useState(!1),x=async r=>{if(t)try{const n=await v(r);n.videoUrl?(b(n.videoUrl),l(!1),m(null)):setTimeout(()=>x(r),5e3)}catch(n){console.error("Polling Error:",n),a("Failed to retrieve video status."),l(!1)}};o.useEffect(()=>(u&&t&&x(u),()=>{l(!1)}),[u,t]);const p=async()=>{if(!(!c.trim()||s)){g(!0),a(null),b(null),m(null);try{const r=await j(c);r.jobId?(m(r.jobId),l(!0)):a("Failed to start video generation job.")}catch(r){console.error("Video Generation Error:",r),a(r.message||"An unknown error occurred during video generation.")}finally{g(!1)}}};return e.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("h2",{className:"text-xl mb-6 flex items-center gap-2",style:{color:"rgba(255, 255, 255, 0.9)"},children:[e.jsx(f,{className:"w-5 h-5",style:{color:"var(--cyber-green)"}}),"AI Video Generator (Sora-2-Pro)"]}),e.jsxs("div",{className:"flex gap-2 mb-8",children:[e.jsx("input",{type:"text",value:c,onChange:r=>y(r.target.value),onKeyPress:r=>r.key==="Enter"&&p(),placeholder:"e.g., 'A majestic whale floating through the clouds'",className:"flex-1 px-4 py-3 rounded-lg border outline-none font-mono text-sm",style:{backgroundColor:"var(--cyber-dark-surface)",borderColor:"var(--cyber-border)",color:"rgba(255, 255, 255, 0.9)"},disabled:s||t}),e.jsx("button",{onClick:p,disabled:s||t,className:"px-6 rounded-lg border transition-all hover:border-opacity-50 font-mono disabled:opacity-50",style:{backgroundColor:"var(--cyber-green)",borderColor:"var(--cyber-green)",color:"var(--cyber-obsidian)"},children:s?"Starting...":t?"Generating...":"Generate"})]}),t&&e.jsx("div",{className:"text-center p-4 rounded-lg bg-cyber-surface border border-cyber-border",children:e.jsx("p",{className:"text-cyber-secondary font-mono animate-pulse",children:"Your video is being generated. This may take a moment..."})}),i&&e.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-900/20 border border-red-500/50 flex items-center justify-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-red-500"}),e.jsx("p",{className:"text-red-400 font-mono",children:i})]}),d&&e.jsxs("div",{className:"mt-8 aspect-video rounded-lg border overflow-hidden bg-black shadow-lg shadow-cyber-green/20",style:{borderColor:"var(--cyber-green)"},children:[e.jsx("video",{src:d,controls:!0,autoPlay:!0,loop:!0,className:"w-full h-full"}),e.jsxs("div",{className:"mt-2 text-center flex items-center justify-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-cyber-green"}),e.jsx("p",{className:"text-cyber-green font-mono",children:"Video generation complete!"})]})]}),!s&&!d&&!i&&!t&&e.jsx("div",{className:"mt-8 text-center p-4 rounded-lg bg-cyber-surface border border-cyber-border",children:e.jsx("p",{className:"text-cyber-secondary font-mono",children:"The generated video will appear here."})})]})})}export{E as VideoGenerator};
